
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id          BigInt        @id @default(autoincrement())
  authId      String        @unique
  discs       Disc[]
}

model Disc {
  id          BigInt        @id @default(autoincrement())
  brand       String?
  mold        String?
  plastic     String?
  weight      Int?
  run         String?
  foil        String?
  stamp       String?
  color       String?       // hex code
  shared      Boolean       @default(false)
  image       String?
  discMeta    DiscMeta?
  userId      BigInt?
  User        User?         @relation(fields: [userId], references: [id])
}

model DiscMeta {
  id          BigInt        @id @default(autoincrement())
  createdDate DateTime
  public      Boolean
  likes       BigInt        @default(0)
  discId      BigInt
  disc        Disc?         @relation(fields: [discId], references: [id])
}

model Store {
  id            Int         @id @default(autoincrement())
  display_name  String
  link          String
  store_type    StoreType
}

enum StoreType {
  FACTORY
  RETAILER
  PLAYER
}
